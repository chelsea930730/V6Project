<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>매물 등록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" th:href="@{/css/create.css}" />
  </head>
  <body>
    <main class="create-container">
      
      <form class="create-form" id="propertyForm">
        <div class="form-layout">
          <!-- 좌측 체크박스 영역 -->
          <div class="checkbox-section">
            <div class="form-group">
              <label>월세(¥)</label>
              <input type="text" name="monthlyPrice" placeholder="숫자만" required />
            </div>
            <div class="form-group">
              <label>관리비(¥)</label>
              <input type="text" name="managementFee" placeholder="숫자만" required />
            </div>
            <div class="form-group">
              <label>초기비용</label>
              <textarea name="initialCost" rows="3" placeholder="초기비용 상세 내역을 입력하세요" required></textarea>
            </div>
            <div class="form-group">
              <label>레이킹</label>
              <input type="text" name="reikin" placeholder="예: 1개월" required />
            </div>
            <div class="form-group">
              <label>시키킹</label>
              <input type="text" name="shikikin" placeholder="예: 2개월" required />
            </div>
            <div class="form-group">
              <label>주거 면적(m²)</label>
              <input type="text" name="area" placeholder="숫자만" required />
            </div>
            <div class="form-group">
              <label>층수</label>
              <input type="text" name="floor" placeholder="숫자만" required />
            </div>
            
            <div class="checkbox-area">
              <h3>건물 타입</h3>
              <div class="checkbox-list">
                <label><input type="radio" name="buildingType" value="아파트" required /> 아파트</label>
                <label><input type="radio" name="buildingType" value="맨션" /> 맨션</label>
                <label><input type="radio" name="buildingType" value="타운하우스" /> 타운하우스</label>
                <label><input type="radio" name="buildingType" value="오피스텔" /> 오피스텔</label>
                <label><input type="radio" name="buildingType" value="셰어하우스" /> 셰어하우스</label>
              </div>
            </div>
            
            <div class="checkbox-area">
              <h3>방 타입</h3>
              <div class="checkbox-list">
                <label><input type="radio" name="roomType" value="1R" required /> 1R</label>
                <label><input type="radio" name="roomType" value="1K" /> 1K</label>
                <label><input type="radio" name="roomType" value="1DK" /> 1DK</label>
                <label><input type="radio" name="roomType" value="1LDK" /> 1LDK</label>
                <label><input type="radio" name="roomType" value="2K" /> 2K</label>
                <label><input type="radio" name="roomType" value="2DK" /> 2DK</label>
                <label><input type="radio" name="roomType" value="2LDK" /> 2LDK</label>
                <label><input type="radio" name="roomType" value="3K이상" /> 3K이상</label>
              </div>
            </div>
            
            <div class="checkbox-area">
              <h3>상세조건</h3>
              <div class="checkbox-list">
                <label><input type="checkbox" name="features" value="주차장" /> 주차장</label>
                <label><input type="checkbox" name="features" value="2인 입주" /> 2인 입주</label>
                <label><input type="checkbox" name="features" value="욕실/화장실 분리" /> 욕실/화장실 분리</label>
                <label><input type="checkbox" name="features" value="즉시 입주" /> 즉시 입주</label>
                <label><input type="checkbox" name="features" value="학생 가능" /> 학생 가능</label>
                <label><input type="checkbox" name="features" value="반려동물 가능" /> 반려동물 가능</label>
                <label><input type="checkbox" name="features" value="가구 포함" /> 가구 포함</label>
                <label><input type="checkbox" name="features" value="에어컨" /> 에어컨</label>
              </div>
            </div>
          </div>

          <!-- 우측 입력 영역 -->
          <div class="input-section">
            <div class="station-info">
              <h3>역/노선 정보</h3>
              <div class="station-display" id="selectedStationDisplay">
                <span class="selected-line">노선을 선택해주세요</span>
                <span class="selected-station">역을 선택해주세요</span>
              </div>
              <div class="button-group">
                <button type="button" class="btn-normal" id="lineChangeBtn">노선 변경</button>
                <button type="button" class="btn-primary" id="stationChangeBtn">역 변경</button>
              </div>
              <input type="hidden" name="station" id="stationInput" />
              <input type="hidden" name="line" id="lineInput" />
            </div>

            <div class="form-group">
              <label>주소</label>
              <input type="text" name="address" placeholder="도쿄도 신주쿠구 니시신주쿠 2-8-1" required />
            </div>

            <div class="form-group">
              <label>지역구(District)</label>
              <select name="district" required>
                <option value="">선택하세요</option>
                <option value="千代田区">千代田区 (치요다구)</option>
                <option value="中央区">中央区 (츄오구)</option>
                <option value="港区">港区 (미나토구)</option>
                <option value="新宿区">新宿区 (신주쿠구)</option>
                <option value="文京区">文京区 (분쿄구)</option>
                <option value="台東区">台東区 (다이토구)</option>
                <option value="墨田区">墨田区 (스미다구)</option>
                <option value="江東区">江東区 (코토구)</option>
                <option value="品川区">品川区 (시나가와구)</option>
                <option value="目黒区">目黒区 (메구로구)</option>
                <option value="大田区">大田区 (오타구)</option>
                <option value="世田谷区">世田谷区 (세타가야구)</option>
                <option value="渋谷区">渋谷区 (시부야구)</option>
                <option value="中野区">中野区 (나카노구)</option>
                <option value="杉並区">杉並区 (스기나미구)</option>
                <option value="豊島区">豊島区 (토시마구)</option>
                <option value="北区">北区 (키타구)</option>
                <option value="荒川区">荒川区 (아라카와구)</option>
                <option value="板橋区">板橋区 (이타바시구)</option>
                <option value="練馬区">練馬区 (네리마구)</option>
                <option value="足立区">足立区 (아다치구)</option>
                <option value="葛飾区">葛飾区 (카츠시카구)</option>
                <option value="江戸川区">江戸川区 (에도가와구)</option>
              </select>
            </div>

            <div class="form-group">
              <label>게시글 제목</label>
              <input type="text" name="title" placeholder="야마노테선 신주쿠역, 4층, 맨션" required />
            </div>

            <div class="form-group">
              <label>매물 상태</label>
              <select name="status" required>
                <option value="">선택하세요</option>
                <option value="예약가능">공실</option>
                <option value="예약중">계약 진행중</option>
                <option value="거래완료">계약 완료</option>
              </select>
            </div>

            <div class="form-group">
              <label>건축년도</label>
              <select name="builtYear" id="building-age" required>
                <option value="">선택하세요</option>
              </select>
            </div>
            
            <div class="form-group">
              <label>비고 사항</label>
              <textarea name="description" rows="4" placeholder="추가 정보를 입력하세요"></textarea>
            </div>

            <div class="form-group">
              <label>주변시설</label>
              <textarea name="nearbyFacilities" rows="4" placeholder="주변 편의시설, 교통시설 등을 입력하세요"></textarea>
            </div>

            <!-- 이미지 업로드 섹션 -->
            <div class="image-upload-section">
              <h3>매물 이미지 업로드</h3>
              
              <div class="image-upload-group">
                <label>대표 이미지</label>
                <div class="file-input-container">
                  <input type="file" id="thumbnailImage" name="thumbnailImage" accept="image/*">
                  <div class="preview-container" id="thumbnailPreview"></div>
                </div>
                <small class="form-text text-muted">매물 목록에 표시될 대표 이미지입니다.</small>
              </div>
              
              <div class="image-upload-group">
                <label>평면도</label>
                <div class="file-input-container">
                  <input type="file" id="floorplanImages" name="floorplanImages" accept="image/*" multiple>
                  <div class="preview-container" id="floorplanPreview"></div>
                </div>
                <small class="form-text text-muted">매물의 평면도 이미지를 업로드하세요.</small>
              </div>
              
              <div class="image-upload-group">
                <label>건물사진</label>
                <div class="file-input-container">
                  <input type="file" id="buildingImages" name="buildingImages" accept="image/*" multiple>
                  <div class="preview-container" id="buildingPreview"></div>
                </div>
                <small class="form-text text-muted">건물 외관 이미지를 업로드하세요.</small>
              </div>
              
              <div class="image-upload-group">
                <label>내부사진</label>
                <div class="file-input-container">
                  <input type="file" id="interiorImages" name="interiorImages" accept="image/*" multiple>
                  <div class="preview-container" id="interiorPreview"></div>
                </div>
                <small class="form-text text-muted">매물 내부 이미지를 업로드하세요.</small>
              </div>
            </div>

            <button type="submit" class="submit-btn" id="submitButton">매물 등록하기</button>
          </div>
        </div>
      </form>
    </main>

    <!-- 노선 선택 모달 -->
    <div class="modal fade" id="lineModal" tabindex="-1" aria-labelledby="lineModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="lineModalLabel">노선 선택</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="line-list">
              <!-- JR 노선 -->
              <div class="line-item" data-line="JR山手線・JR야마노테선" data-color="#8bc657">JR야마노테선</div>
              <div class="line-item" data-line="JR中央・総武線・JR츄오소부선" data-color="#f15a22">JR츄오소부선</div>
              <div class="line-item" data-line="JR埼京線・JR사이쿄선" data-color="#00b48d">JR사이쿄선</div>
              <div class="line-item" data-line="JR常磐線・JR죠반선" data-color="#00b261">JR죠반선</div>
              <div class="line-item" data-line="JR高崎線・JR타카사키선" data-color="#00acd2">JR타카사키선</div>
              <div class="line-item" data-line="JR横須賀線・JR요코스카선" data-color="#00ada9">JR요코스카선</div>
              <div class="line-item" data-line="JR京浜東北線・JR케이힌토쿠선" data-color="#00b2e5">JR케이힌토쿠선</div>
              
              <!-- 도쿄 메트로 노선 -->
              <div class="line-item" data-line="半蔵門線・한조몬선" data-color="#8f76d6">한조몬선</div>
              <div class="line-item" data-line="丸ノ内線・마루노우치선" data-color="#f15a22">마루노우치선</div>
              <div class="line-item" data-line="日比谷線・히비야선" data-color="#9caeb7">히비야선</div>
              <div class="line-item" data-line="千代田線・치요다선" data-color="#00a650">치요다선</div>
              <div class="line-item" data-line="副都心線・후쿠토신선" data-color="#bb641d">후쿠토신선</div>
              <div class="line-item" data-line="銀座線・긴자선" data-color="#f7b500">긴자선</div>
              <div class="line-item" data-line="南北線・난보쿠선" data-color="#00acd2">난보쿠선</div>
              <div class="line-item" data-line="有楽町線・유라쿠초선" data-color="#d7c447">유라쿠초선</div>
              <div class="line-item" data-line="東西線・토자이선" data-color="#009bbf">토자이선</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 역 선택 모달 -->
    <div class="modal fade" id="stationModal" tabindex="-1" aria-labelledby="stationModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="stationModalLabel">역 선택</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="selected-line-info">
              <span id="selectedLineName">노선을 먼저 선택해주세요</span>
            </div>
            <div class="station-list" id="stationList">
              <!-- 역 목록은 자바스크립트로 동적 생성됨 -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/create.js}"></script>
  </body>
</html>
